<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select</title>
   
    <link rel="stylesheet" href="../css/personagens.css">
    <link rel="shortcut icon" href="../imagens/Homem aranha topo.png" />

    <script src="../js/funcoes.js"></script>

</head>
<body>

    <b id="b_usuario"></b>
    
    <span class="tutorial">
        <div id="att"><p>Ataque</p></div>
        <div id="heal"><p>Hp</p></div>
        <div id="def"><p>Defesa</p></div>
    </span>

    <div class="conteudo">

    
    <div class="personagens">

         <div id="div_viloes">
                
            </div>

        </div> 

     

        <div  class="card">
            <div class="carta">
                <div class="circulo"></div>
                 <div id="nome" class="nome"></div>
                  <div id="imagem" class="imagens"></div>
                     <div class="retangulo">
                        <div id="defesa" class="defesa"></div>
                        <div id="hp" class="hp"></div>
                        <div id="att" class="ataque"></div>
                     </div>
            </div>
        </div>
        
         <div class="personagens">
             <div id="div_heroes">
                    
                </div>
            </div>

    </div>  

    <footer class="fundo">

        <p>Feito por Roberto Turbiani Jr /2023</p>

    </footer>

</body>
</html>
<script>

    var idHeroes = document.getElementById("div_heroes")
    var idViloes= document.getElementById("div_viloes")

    function invocar() {
    fetch("/personagem/invocar", {
        method: "GET",
        headers: {
            "Content-type": "application/json"
        }
    }).then(async function (resposta) {
        const vetor = await resposta.json()
        for (let i = 0; i < vetor.length; i++) {
            const element = vetor[i];
            var newImg = document.createElement("img")
            newImg.src = element.url
            newImg.style.height = "100px"
            newImg.style.width = "100px"
            newImg.addEventListener('click', function() {
                suaFuncao(element)
            })
            if (element.hero) {
                idHeroes.appendChild(newImg)
            } else {
                idViloes.appendChild(newImg)
            }

        }
        
    })
}

function suaFuncao(params) {
    imagem.innerHTML =(params.nome)
}

window.onload = () => {
    invocar()
}

    
</script>